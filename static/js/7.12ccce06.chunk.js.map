{"version":3,"sources":["components/Users/Users.module.css","components/Users/UserItem/UsersItem.module.css","components/Users/Paginator/Paginator.module.css","components/Users/UserItem/UserItem.js","components/Users/Paginator/Paginator.js","components/Users/UsersProfile.js","components/Users/UsersWrapper.js"],"names":["module","exports","UserItem","props","className","classes","userContainer","backgroundImg","src","alt","userInfo","to","userId","avatarContainer","photos","fullName","name","location","country","city","status","subscribeContainer","subscription","disabled","followingInProgress","some","id","onClick","unfollow","follow","Paginator","pagesCount","Math","ceil","numberOfUsers","pageSize","usersPageArray","i","push","useState","portionNumber","setPortionNumber","leftPortionBoard","rightPortionBoard","useEffect","currentPage","filter","page","map","active","unactive","pageNumber","getUsers","paginatorContainer","UsersProfile","toggleIsFetching","preloader","usersArray","users","item","lastName","small","followed","subscribeToUser","unsubscribeToUser","setUsers","callback","phase","interactions","console","log","onRender","usersContainer","pageCount","actionsCreator","compose","connect","state","getUsersData","getPageSize","getPageNumber","getPageCount","getToggleIsFetching","getFollowingInProgress"],"mappings":"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","file":"static/js/7.12ccce06.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Users_preloader__30b5Q\",\"usersContainer\":\"Users_usersContainer__24LYN\",\"users\":\"Users_users__1QleE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userContainer\":\"UsersItem_userContainer__2IENP\",\"backgroundImg\":\"UsersItem_backgroundImg__33GoS\",\"userInfo\":\"UsersItem_userInfo__1B7qh\",\"avatarContainer\":\"UsersItem_avatarContainer__70sDU\",\"fullName\":\"UsersItem_fullName__2iia3\",\"location\":\"UsersItem_location__G9EU3\",\"status\":\"UsersItem_status__6EEml\",\"subscribeContainer\":\"UsersItem_subscribeContainer__1sVBo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginatorContainer\":\"Paginator_paginatorContainer__euvSL\",\"active\":\"Paginator_active__2SF96\",\"disabled\":\"Paginator_disabled__3vT7W\",\"unactive\":\"Paginator_unactive__3SGTo\"};","import classes from \"./UsersItem.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst UserItem = (props) => {\r\n    let standardBackground = \"https://img1.goodfon.ru/original/800x480/5/5b/bull-nebula-sozvezdie-telca.jpg\"\r\n    let standardAvatar = \"https://yt3.ggpht.com/a/AATXAJzbXlyAISaTM-VcH2IqMMLvZTgfVeLsIA_AdvPK=s900-c-k-c0xffffffff-no-rj-mo\"\r\n\r\n    return (\r\n        <div className={classes.userContainer}>\r\n            <div className={classes.backgroundImg}>\r\n                <img src={(props.backgroundImg)\r\n                    ? props.backgroundImg\r\n                    : standardBackground}\r\n                     alt=\"background\"/>\r\n            </div>\r\n            <NavLink className={classes.userInfo} to={`profile/${props.userId}`}>\r\n                <div className={classes.avatarContainer}>\r\n                    <img src={(props.photos)\r\n                        ? props.photos\r\n                        : standardAvatar}\r\n                         alt=\"avatar\"/>\r\n                </div>\r\n                <div className={classes.fullName}>\r\n                    <p>{props.name}</p>\r\n                    <p>{props.userId}</p>\r\n                </div>\r\n                <div className={classes.location}>\r\n                    <p>{(props.country) ? props.country : 'unknown'}</p>\r\n                    <p>{(props.city) ? props.city : 'unknown'}</p>\r\n                </div>\r\n                <div className={classes.status}>\r\n                    {(props.status) ? props.status : 'Whoops!'}\r\n                </div>\r\n            </NavLink>\r\n            <div className={classes.subscribeContainer}>\r\n                {props.subscription ? <button disabled={props.followingInProgress.some(id => id === props.userId)}\r\n                        onClick={() => {props.unfollow(props.userId)}}>Unfollow</button>\r\n                    : <button disabled={props.followingInProgress.some(id => id === props.userId)}\r\n                        onClick={() => {props.follow(props.userId)}}>Follow</button>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default UserItem","import classes from \"./Paginator.module.css\";\r\nimport React, {useEffect, useState} from \"react\";\r\n\r\nconst Paginator = (props) => {\r\n\r\n    let pagesCount = Math.ceil(props.numberOfUsers / props.pageSize)\r\n\r\n    let usersPageArray = []\r\n\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        usersPageArray.push(i)\r\n    }\r\n\r\n    let portionSize = 10\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionBoard = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionBoard = portionNumber * portionSize\r\n\r\n    const setUsersPage = (pageNumber) => {\r\n        props.getUsers(pageNumber, props.pageSize)\r\n    }\r\n\r\n    useEffect(() => {\r\n        setPortionNumber(Math.ceil(props.currentPage / portionSize))\r\n    }, [props.currentPage])\r\n\r\n    usersPageArray = usersPageArray.filter(page => page >= leftPortionBoard && page <= rightPortionBoard)\r\n    .map(page => {\r\n        return <li key={page}\r\n                   className={page === props.currentPage ? classes.active : classes.unactive}\r\n                   onClick={() => {setUsersPage(page)}}\r\n        >{page}</li>\r\n    })\r\n\r\n    return (\r\n        <div className={classes.paginatorContainer}>\r\n            <button disabled={leftPortionBoard <= 1}\r\n                    className={leftPortionBoard <= 1 ? classes.disabled : classes.active}\r\n                    onClick={() => {setPortionNumber(portionNumber - 1)}}\r\n            >&#10094; Prev</button>\r\n\r\n            <ul>\r\n                {usersPageArray}\r\n            </ul>\r\n\r\n            <button disabled={rightPortionBoard >= pagesCount}\r\n                    className={rightPortionBoard >= pagesCount ? classes.disabled : classes.active}\r\n                    onClick={() => {setPortionNumber(portionNumber + 1)}}\r\n            >Next &#10095;</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator","import React, {useEffect, Profiler} from 'react';\r\nimport classes from \"./Users.module.css\"\r\nimport UserItem from \"./UserItem/UserItem\";\r\nimport Preloader from \"../../common/Preloader/preloader\";\r\nimport Paginator from \"./Paginator/Paginator\";\r\n\r\nconst UsersProfile = (props) => {\r\n\r\n    useEffect(() => {\r\n        props.getUsers(props.currentPage, props.pageSize)\r\n    }, [])\r\n\r\n    if(props.toggleIsFetching) {\r\n        return (\r\n            <div className={classes.preloader}>\r\n                <Preloader/>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    let usersArray = props.users.map((item) => <UserItem\r\n        key={item.id}\r\n        userId={item.id}\r\n        name={item.name}\r\n        lastName={item.lastName}\r\n        status={item.status}\r\n        photos={item.photos.small}\r\n        subscription={item.followed}\r\n        followingInProgress={props.followingInProgress}\r\n        follow={props.subscribeToUser}\r\n        unfollow={props.unsubscribeToUser}\r\n        setUsers={props.setUsers}\r\n    />);\r\n\r\n    const callback = (id, phase, interactions) => {\r\n        console.log(`${id}'s ${phase} phase and ${interactions} interactions`);\r\n    }\r\n\r\n    return (\r\n        <Profiler id=\"UsersPage\" onRender={callback}>\r\n            <div className={classes.usersContainer}>\r\n                <div className={classes.users}>\r\n                    {usersArray}\r\n                </div>\r\n                <Profiler id=\"Paginator\" onRender={callback}>\r\n                    <Paginator numberOfUsers={props.pageCount}\r\n                               pageSize={props.pageSize}\r\n                               currentPage={props.currentPage}\r\n                               getUsers={props.getUsers}\r\n                    />\r\n                </Profiler>\r\n            </div>\r\n        </Profiler>\r\n\r\n    )\r\n}\r\n\r\nexport default UsersProfile;","import {compose} from \"redux\";\r\nimport {connect} from \"react-redux\";\r\nimport UsersProfile from \"./UsersProfile\";\r\nimport {getUsers, subscribeToUser, unsubscribeToUser} from \"../../redux/usersReducer\";\r\nimport {\r\n    getFollowingInProgress,\r\n    getPageCount,\r\n    getPageNumber,\r\n    getPageSize,\r\n    getToggleIsFetching,\r\n    getUsersData\r\n} from \"../../redux/selectors/usersSelector\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return ({\r\n        users: getUsersData(state),\r\n        pageSize: getPageSize(state),\r\n        currentPage: getPageNumber(state),\r\n        pageCount: getPageCount(state),\r\n        toggleIsFetching: getToggleIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n    })\r\n}\r\n\r\nlet actionsCreator = {\r\n    getUsers,\r\n    subscribeToUser,\r\n    unsubscribeToUser\r\n}\r\n\r\nexport default compose(\r\n    //withLoginRedirect,\r\n    connect(mapStateToProps, actionsCreator),\r\n)(UsersProfile)"],"sourceRoot":""}